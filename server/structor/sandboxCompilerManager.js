"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function compileSandbox(){if(void 0===compiler)try{webpackConfig=require(_structorCommons.config.webpackConfigFilePath()),webpackConfig=(0,_lodash.cloneDeep)(webpackConfig);var e=_path2.default.join(_structorCommons.config.sandboxDirPath(),"index.js"),o=_structorCommons.config.sandboxDirPath(),r="bundle.js";webpackConfig.entry=[e],webpackConfig.output={path:o,filename:r},webpackConfig.resolve=webpackConfig.resolve||{},webpackConfig.resolve.modules=[_structorCommons.config.SANDBOX_DIR,"node_modules"],webpackConfig.stats="errors-only",compiler=(0,_webpack2.default)(webpackConfig)}catch(e){throw Error("Webpack config was not found. "+e)}return new Promise(function(e,o){compiler.run(function(r,n){var i=n.toJson({assets:!1,assetsSort:"field",cached:!1,children:!1,chunks:!1,chunkModules:!1,chunkOrigins:!1,chunksSort:"field",colors:!1,errors:!0,errorDetails:!1,hash:!1,modules:!0,modulesSort:"field",publicPath:!1,reasons:!1,source:!1,timings:!1,version:!1,warnings:!1});r?(console.error(r),o(r)):i.errors.length>0?o(i.errors.join("\n\n")):e()})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.compileSandbox=compileSandbox;var _path=require("path"),_path2=_interopRequireDefault(_path),_lodash=require("lodash"),_webpack=require("webpack"),_webpack2=_interopRequireDefault(_webpack),_structorCommons=require("structor-commons"),compiler=void 0,webpackConfig=void 0;